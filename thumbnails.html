<!DOCTYPE html>
<head>
  <meta http-equiv="Content-Language" content="en">
  <meta http-equiv="content-type" content="text/html; charset=UTF-8">
  <meta charset="UTF-8">
  <title>DiBL - Dynamic bobbin lace diagrams thumbnails for grounds</title>
  <style>
    svg { display: inline-block }
    .link {fill: #fff; opacity: 1;}
    svg{ border: solid 1px #AAA; margin-right: 0.4em; }
    div { width: 1150px }
    input { width: 3em; }
  </style>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/d3/3.5.5/d3.min.js"></script>
  <script src="js/show-graph.js"></script>
  <script src="js/matrix-graphs.js"></script>
  <script>
    function showPairs(argString){
      document.getElementById("diagram").innerHTML = ""
      var args = argString.split(":")
      var range = args[1].split("-")
      for (i=range[0] ; i<=range[1] ; i++)
        showPair(dibl.D3Data().get(args[0],i, 8,8, 0,0, ''))
    }
    function showThreads(set,nr){
      document.getElementById("diagram").innerHTML = ""
      var dims = set.split("x")
      var rows = dims[0] * 1
      var cols = dims[1] * 1
      for (i=0 ; i<rows ; i++) {
        for (j=0 ; j<cols ; j++)
          showThread(dibl.D3Data().get(set,nr, 8,8, i,j, ''))
      }
    }
    function showPair(data){
      showGraph({
        threadColor: '#colorpicker',
        container: '#diagram',
        width: 100,
        height: 100,
        nodes: data.nodes,
        links: data.links,
        scale: 0.5,
        transform: "translate(0,0)scale(0.5)",
      })
    }
    function showThread(data){
      showGraph({
        threadColor: '#colorpicker',
        container: '#diagram',
        width: 200,
        height: 200,
        nodes: data.threadNodes,
        links: data.threadLinks,
        scale: 0.25,
        transform: "translate(0,0)scale(0.25)",
      })
    }
  </script>
</head>
<body onload="showAll()">
    <img style="float: right" src="logo-big.png" alt="DiBL logo"
         title="3 tiles each with a single stitch. Thick coloured lines for the pair diagram, thin black lines for a thread diagram"/>
    <h1>DiBL - Diagrams for bobbin lace - Thumbnails of grounds</h1>
    <p>Overview of implemented <a href="index.html">grounds</a>.</p>
    <p><strong>Select a set</strong> of diagrams by changing a field
        <strong>and have some patience</strong> for the thumbnails to render and let the animation complete.
    </p>
    <fieldset>
        <legend>Pair diagrams</legend>
        <select id="pairs" size="1" onChange="showPairs(this.value)">
            <option value="">select a set</option>
            <option value="2x2:0-6">2x2 (0-6)</option>
            <option value="2x4:0-46">2x4 (0-46)</option>
            <option value="4x2:0-49">4x2 (0-49)</option>
            <option value="4x2:50-92">4x2 (50-92)</option>
        </select>
        <p>
            The animation of pair diagrams applies some tension to the original diagrams
            on <a href="http://web.uvic.ca/~vmi/papers/interleavedpatterns.html"
            >http://web.uvic.ca/~vmi/papers/interleavedpatterns.html</a>
        </p>
    </fieldset>
    <fieldset>
        <legend>Thread diagrams</legend>
        <label for="_2x2">2x2 </label><input id="_2x2" max="6"  onchange="showThreads('2x2',this.value)" min="0" value="-1" type="number"/>
        <label for="_2x4">2x4 </label><input id="_2x4" max="46" onchange="showThreads('2x4',this.value)" min="0" value="-1" type="number"/>
        <label for="_4x2">4x2 </label><input id="_4x2" max="92" onchange="showThreads('4x2',this.value)" min="0" value="-1" type="number"/>
        <p>
            The thread diagrams show if any shift configuration has a footside implemented
            without a (partial) tubular effect. If at most one footside is okay,
            another number of columns will fix the other side.
        </p>
    </fieldset>
    <p>
        N.B: Row and column count starts with zero.
    </p>
    <div id="diagram"></div>
</body>
