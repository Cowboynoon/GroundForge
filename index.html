<!DOCTYPE html>
<head>
    <meta charset="UTF-8">
    <title lang="en">GroundForge : A web based toolbox to design bobbin lace grounds with matching diagrams.</title>
    <link rel="stylesheet" type="text/css" href="css/index.css"/>
    <script src="https://d3js.org/d3.v4.min.js" type="text/javascript"></script>
    <script src="js/show-graph.js" type="text/javascript"></script>
    <script src="js/matrix-graphs.js" type="text/javascript"></script>
    <script src="js/index.js" type="text/javascript"></script>
    <script src="js/jscolor.min.js" type="text/javascript"></script>
</head>
<body onload="init();load()">

<article>
    <a id="logo"
       href="https://d-bl.github.io/"
       title="More tools by DiBL"
    ><img src="images/logo-medium.png" alt="DiBL logo"/></a>
    <h1>GroundForge</h1>
    <p><em>A toolbox to design bobbin lace grounds or braids with matching diagrams.</em></p>

    <p>
        The "introduction" and "download" tabs are recommended for first-time visitors.
        We'd love to see <a href="https://github.com/d-bl/GroundForge/issues/50"
        >your creations</a>.
    </p>
</article>
<form>
    <p class="tabs">
        <button class="inactiveTab" id="introTab" onclick="toggle('intro');return false">introduction</button>
        <button class="inactiveTab" id="downloadTab" onclick="toggle('download');return false">download</button>
        <button class="activeTab" id="thumbnailsTab" onclick="toggle('thumbnails');return false">thumbnails</button>
        <button class="inactiveTab" id="patternTab" onclick="toggle('pattern');return false">matrix</button>
        <button class="inactiveTab" id="stitchTab" onclick="toggle('stitch');return false">stitches</button>
        <button class="inactiveTab" id="threadTab" onclick="toggle('thread');return false">thread colors</button>
        <button class="inactiveTab" id="sizeTab" onclick="toggle('size');return false">patch size</button>
        <button class="inactiveTab" id="shiftTab" onclick="toggle('shift');return false">shift footside</button>
        <button class="inactiveTab" id="hiddenTab" onclick="toggle('hidden');return false">hidden objects</button>
    </p>
    <fieldset id="introFieldSet" class="hide">
        <legend>Introduction</legend>
        <ul>
            <li>
                Select a thumbnail or matrix as the basis for your pattern.
            </li>
            <li>
                Choose stitches, those with an odd number of crossings cause threads to follow other paths than pairs.
            </li>
            <li>
                Decide where to apply a contrasting thread,
                the real lace could apply another width rather than another color.
            </li>
            <li>
                Nudging pins to slightly different positions can have a significant effect on the shapes in the pair diagram.
                The pattern sheet below the diagrams has one or more variants.
                These variants are limited to some predefined grid.
                Download and edit for intermediate positions and breaking other rules.
                The colors of the dots help to customize a patch to your own taste and needs.
            </li>
        </ul>
        <p>
            Changes made in the matrix tab are immediately shown in the pattern sheet.
            As the animation takes some time, updating the pair and thread diagrams requires confirmation with
            the "apply options" or "prepare bookmark" button, the latter reloads the full page
            and allows to save your configuration.
        </p>
    </fieldset>
    <fieldset id="thumbnailsFieldSet" class="show">
        <legend>Thumbnails</legend>
        <p>A selection of dressed up examples for a quick start.</p>
        <p>
        <a href="?matrix=5632 5632&patch=5- -5&patch=5353 5353 5-5- -5-5&patch=5632 56-2 5-5- -535&patch=44 77 44 77;bricks&patch=44 44 77 77;bricks&rows=5&cols=7&left=1&up=1&stitches=A1=tc,B1=tctc,C1=tc,D1=tctc,A2=tc,B2=tc,C2=tc,D2=tc"><img src="thumbs/214.png" title="Torchon (with variations)"></a>

        <a href="?matrix=5632 34-7&tiles=bricks&patch=-5-5 5-5- -5-- B-C-;bricks&patch=256- ---5 C3B-;bricks&bricks&patch=4373 5-53;bricks&rows=5&cols=3&up=3&left=1&stitches=A1=tplc,B1=tcttpc,C1=tprc,D1=ttcttpc,A2=rtc,B2=tcttpc,C2=ltc,D2=tc"><img src="thumbs/135.png" title="small snow (Binche)"></a>

        <a href="?matrix=5831 -4-7&tiles=bricks&patch=-437 34-7;bricks&patch=4830 --77;bricks&up=3&left=1&rows=8&cols=7&stitches=A1=tc,C1=tc,A2=tc,B2=ptc,C2=tc,D2=tc"><img src="thumbs/130.png" title="rose (Torchon) / Flanders"></a>

        <a href="?matrix=5831 -4-7&patch=68 -4&patch=5831 -4-7&patch=B-C- ---5 C-B- -5--&patch=5831 -4-7 5--- -C-B;bricks&patch=5-O-E- -E-5-O 5-O-E-;bricks&left=4&up=1&rows=7&cols=7&stitches=A1=tctc,C1=tctc,D1=tctc,A2=tctc,B1=tctc,C2=tctc"><img src="thumbs/376.png" title="kat / paris"></a>

        <a href="?matrix=4815%0D4-77&tiles=bricks&patch=-5---5-5%0D5-O-E-5-;bricks&patch=4804%0D-777;bricks&patch=B-5-C-%0D-5-5--%0DB---C-;bricks&rows=12&cols=6&left=0&up=1&stitches=D2=tctpc%20A1=tc%20B1=tc%20C1=tc%20D1=tc%20A2=tc%20B2=tc"><img src="thumbs/127.png" title="meandering plaits"></a>

        <a href="?matrix=586- -4-5 5-21 -5-7&rows=12&cols=9&&left=1&up=1&stitches=A3=tctc,D4=lctc,B4=rctc,A1=ctc,A2=tctc,C1=tctc,D2=rctc,B2=lctc,C3=ctc,C4=tctc"><img src="thumbs/001.png" title="pinwheel"></a>

            Many <a href="thumbs.html">more</a>...</p>
    </fieldset>
    <fieldset id="patternFieldSet" class="hide">
        <legend>Pattern matrix</legend>
        <p>
            Each thumbnail is defined with a matrix.
            Arrows in the legend show the meaning of the characters.
            Larger arrows represent double length lines, they skip a grid position.
            The grey shapes show the tile arrangements.
        </p>
        <img src="images/legend.png" id="legend" alt="legend" align="right">
        <div>
            <select name="tiles" id="tiles" onchange="updatePatternSheet()">
                <option value="bricks">Brick wall</option>
                <option value="checker" selected>Checker board</option>
            </select>
            <label for="tiles"> tiles</label>
        </div>
        <textarea id="matrix" name="matrix" rows="4" cols="6" spellcheck="false" onchange="updatePatternSheet()"
        >586-
-4-5
5-21
-5-7</textarea>
    </fieldset>
    <fieldset id="threadFieldSet" class="hide wide">
        <legend>Thread colors</legend>
        <p>
            <input onchange="onChangeColor(this)" pattern="[a-fA-F0-9]{6}" id="color1" name="color1" class="jscolor" value="000000"/>
            <input onchange="onChangeColor(this)" pattern="[a-fA-F0-9]{6}" id="color2" name="color2" class="jscolor" value="000000"/>
            <input onchange="onChangeColor(this)" pattern="[a-fA-F0-9]{6}" id="color3" name="color3" class="jscolor" value="000000"/>
            <input onchange="onChangeColor(this)" pattern="[a-fA-F0-9]{6}" id="color4" name="color4" class="jscolor" value="000000"/>
            <input onchange="onChangeColor(this)" pattern="[a-fA-F0-9]{6}" id="color5" name="color5" class="jscolor" value="000000"/>
            <input onchange="onChangeColor(this)" pattern="[a-fA-F0-9]{6}" id="color6" name="color6" class="jscolor" value="000000"/>
            <input onchange="onChangeColor(this)" pattern="[a-fA-F0-9]{6}" id="color7" name="color7" class="jscolor" value="000000"/>
            <input onchange="onChangeColor(this)" pattern="[a-fA-F0-9]{6}" id="color8" name="color8" class="jscolor" value="000000"/>
            <input onchange="onChangeColor(this)" pattern="[a-fA-F0-9]{6}" id="color9" name="color9" class="jscolor" value="000000"/>
            <input onchange="onChangeColor(this)" pattern="[a-fA-F0-9]{6}" id="color10" name="color10" class="jscolor" value="000000"/>
            <input onchange="onChangeColor(this)" pattern="[a-fA-F0-9]{6}" id="color11" name="color11" class="jscolor" value="000000"/>
            <input onchange="onChangeColor(this)" pattern="[a-fA-F0-9]{6}" id="color12" name="color12" class="jscolor" value="000000"/>
            <input onchange="onChangeColor(this)" pattern="[a-fA-F0-9]{6}" id="color13" name="color13" class="jscolor" value="000000"/>
            <input onchange="onChangeColor(this)" pattern="[a-fA-F0-9]{6}" id="color14" name="color14" class="jscolor" value="000000"/>
            <input onchange="onChangeColor(this)" pattern="[a-fA-F0-9]{6}" id="color15" name="color15" class="jscolor" value="000000"/>
            <input onchange="onChangeColor(this)" pattern="[a-fA-F0-9]{6}" id="color16" name="color16" class="jscolor" value="000000"/>
        </p>
        <p>
            Apply the repeating sequence above with the <em>apply options</em> button
            FFFFFF terminates the sequence,
            FEFEFE blends a thread with the background.
            To save your favorite sequence: submit and copy-paste the URL fragment.
        </p>
        <p>
            <input id="color" name="color" class="jscolor" value="CC0000" pattern="[a-fA-F0-9]{6}"/>
            <label for="color"> apply with the square start of a thread</label>
        </p>
    </fieldset>
    <fieldset id="stitchFieldSet" class="hide wide">
        <legend>Stitches</legend>
        <p>Legend: c(ross) t(wist) l(eft-twist) r(ight-twist) p(in)</p>
<textarea id="stitches" name="stitches" rows="2" cols="100" spellcheck="false"
>A3=tctc D4=lctc B4=rctc A1=ctc A2=tctc
C1=tctc D2=rctc B2=lctc C3=ctc C4=tctc</textarea>
        <p>Hover over stitches in the pair diagram for IDs.</p>
    </fieldset>
    <fieldset id="sizeFieldSet" class="hide">
        <legend>Patch size</legend>
        <p>
            <label for="rows">rows</label>
            <input id="rows" name="rows" min="3" value="12" type="number"/>
            <label for="cols">columns
            </label>
            <input id="cols" name="cols" min="3" value="9" type="number"/>
        </p>
        <p>
            The numbers are related to the dots in the pattern sheet.
            To find out the number of threads or pairs:
            Hover over their diamond or square starts.
        </p>
    </fieldset>
    <fieldset id="shiftFieldSet" class="hide">
        <legend>Shift
        </legend>
        <p>
            <label for="up">rows</label>
            <input id="up" name="left" min="0" value="1" type="number"/>
            <label for="left">columns</label>
            <input id="left" name="up" min="0" value="1" type="number"/>
        </p>
        <p>
            A proper footside is required to generate a thread diagram.
            The current implementation to calculate a foot side is quite poor
            so only some combination of values above may render a thread diagram.
            For matrices up to 4x4 you can use the following procedure to pick values that work.
        </p>
        <ul>
            <li>Copy the text field of the matrix tab.</li>
            <li>Rremember the type of tile arrangement.</li>
            <li>Go to the <a href="footsides.html" target="_blank">foot sides</a> page.</li>
            <li>Fill in the above two values.</li>
            <li>Even for a computer exploring all the possibilieties can be a herculanium task.
                So have some patience, perhaps confirm to continue the JavaScript once.
            </li>
            <li>Scroll down the page and make your choice</li>
        </ul>
    </fieldset>
    <fieldset id="hiddenFieldSet" class="hide">
        <legend>Hidden diagram components</legend>
        <p>
            The diagrams contain hidden elements such as connections between twists and pins.
            Revealing the connections may help to understand the behaviour of the pins.
        </p>
        <p>
            <label for="transparency">transparency</label>
            <input id="transparency" name="transparency" step="0.1" min="0" max="1" value="0" type="number"/>
        </p>
        <p>
            0 = transparent<br/>
            1 = opaque
        </p>
    </fieldset>
    <fieldset id="downloadFieldSet" class="hide">
        <legend>Download</legend>
        <p>
            The links below allow to download the images as <a href="https://wikipedia.org/wiki/Scalable_Vector_Graphics"
            >SVG</a> documents, or show them in a new tab or window to see a complete image.
            Download is the default behaviour for desktop browsers, a new tab is the default for iPad-Safari.
            For Internet Explorer right-click the desired image itself and choose "save image as...".
        </p>
        <p>
            <a id="dlSheet" download="pattern-sheet.svg" target="_blank" href="#"
            >pattern sheet</a> &mdash; <a id="dlPair" download="pair-diagram.svg" target="_blank" href="#"
            >pair diagram</a> &mdash; <a id="dlThread" download="thread-diagram.svg" target="_blank" href="#"
            >thread diagram</a>
        </p>
        <p>
            The generated pattern sheet is limited to a fixed grid,
            intermediate positions allow more interesting configurations.
            The <a href="https://github.com/d-bl/GroundForge/wiki"
            >user guide</a> explains how to customize a pattern sheet.
            You are invited to enhance the user guide so other users can benefit from your experience.
        </p>
        <p>
            You may want to position a diagram in the top left corner before viewing in another tab
            and/or shrink the thread diagram. Shrinking is a side-effect of a gentle nudge.
            Your own fantasy may have a purpose to edit a downloaded diagram.
        </p>
    </fieldset>
    <fieldset id="buttons">
        <button onclick="load(); return false">apply options</button>
        <button onclick="location.href='?'; return false">default configuration</button>
        <button>prepare bookmark</button>
    </fieldset>
</form>
<p>
    Occasionally the pair diagram may have slightly tangled footsides, pull gently to fix.
    The thread diagram will shrink considerably as a side effect of a gentle nudge.
</p>
<div id="diagrams">
    <div id="pairs"><img src="images/preview.png" title="preview while scripts are loading and execusting"></div>
    <div id="threads"></div>
    <div id="sheet"></div>
</div>

  <p id="footer">
      <a href="https://github.com/d-bl/GroundForge/releases"
      >Release notes</a>
      &mdash;
      <a href="https://github.com/d-bl/GroundForge/issues?utf8=%E2%9C%93&q=is%3Aissue+is%3Aopen+-label%3A%22Browser+support%22+-label%3A%22nice+to+have%22+"
      >Issues</a>
      &mdash;
      <a href="https://github.com/d-bl/GroundForge/issues?q=is%3Aissue+is%3Aopen+label%3A%22Browser+support%22"
         title="Modern desktop versions of Chrome, FireFox and Safari are fine&#013;Follow the link for issues in other situations."
      ><img id="browsers" src="images/browsers.png"
      ></a><!-- image assembled from http://www.iconarchive.com -->
      &mdash;
      Powered<sup>&nbsp;<a href="https://github.com/d-bl/GroundForge/tree/gh-pages#how-its-made--under-the-hood"
      >how</a></sup>&nbsp;by:&nbsp;<a href="https://tesselace.com" title="Algorithmically designed lace tessellations"
      >TesseLace</a>,&nbsp;<a href="https://d3js.org" title="Data Driven Documents"
      >D3.js</a>,&nbsp;<a href="http://jscolor.com/" title="Color Picker"
      >jsColor</a>
    </p>
<!-- Start of StatCounter Code for Default Guide -->
<script type="text/javascript">
        var sc_project=10865294;
        var sc_invisible=0;
        var sc_security="2e4f5d96";
        var scJsHost = (("https:" == document.location.protocol) ?
        "https://secure." : "http://www.");
        document.write("<sc"+"ript type='text/javascript' src='" +
        scJsHost+
        "statcounter.com/counter/counter.js'></"+"script>");
        </script>
<noscript><div class="statcounter"><a title="web analytics"
                                      href="http://statcounter.com/" target="_blank"><img
        class="statcounter"
        src="http://c.statcounter.com/10865294/0/2e4f5d96/0/"
        alt="web analytics"></a></div></noscript>
<!-- End of StatCounter Code for Default Guide -->
</body>
